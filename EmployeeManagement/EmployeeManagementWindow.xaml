<Window x:Class="EmployeeManagement.EmployeeManagementWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Quản lý nhân viên" Height="550" Width="950"
        WindowStartupLocation="CenterScreen"
        Background="#F0F0F0">

    <DockPanel LastChildFill="True" Margin="10">
        <!-- Header -->
        <DockPanel Background="#007ACC" Height="50" DockPanel.Dock="Top">
            <TextBlock x:Name="WelcomeText" 
                       Foreground="White" 
                       FontSize="18" 
                       FontWeight="Bold"
                       VerticalAlignment="Center" 
                       Margin="10,0,0,0"
                       Text="Quản lý nhân viên"/>
            <Button Content="Logout" 
                    DockPanel.Dock="Right"
                    Width="80" 
                    Height="30" 
                    Margin="0,10,10,10"
                    VerticalAlignment="Center"
                    Background="White" Foreground="#007ACC"
                    FontWeight="Bold"
                    Click="Logout_Click"/>
        </DockPanel>

        <!-- Nội dung chính -->
        <StackPanel Margin="0,10,0,0">
            <!-- Hành động + Search + Filter -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,5" VerticalAlignment="Center">
                <Button Content="Thêm" Width="80" Height="30" Background="#28A745" Foreground="White" FontWeight="Bold" Click="AddEmployee_Click"/>
                <Button Content="Chi tiết" Width="80" Height="30" Background="#17A2B8" Foreground="White" FontWeight="Bold" Click="DetailEmployee_Click"/>

                <TextBlock Text="Tên:" VerticalAlignment="Center" Margin="10,0,5,0"/>
                <TextBox Width="150" Text="{Binding SearchName, UpdateSourceTrigger=PropertyChanged}"/>

                <TextBlock Text="Phòng ban:" VerticalAlignment="Center" Margin="10,0,5,0"/>
                <ComboBox Width="130" ItemsSource="{Binding Departments}" DisplayMemberPath="DepartmentName"
                          SelectedItem="{Binding SelectedDepartment, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                <TextBlock Text="Giới tính:" VerticalAlignment="Center" Margin="10,0,5,0"/>
                <ComboBox Width="100" ItemsSource="{Binding Genders}" SelectedItem="{Binding SelectedGender, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
            </StackPanel>

            <!-- Dòng 2: Lương + Ngày bắt đầu + Clear Filter -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,10" VerticalAlignment="Center">
                <TextBlock Text="Lương từ:" VerticalAlignment="Center" Margin="10,0,5,0"/>
                <TextBox Width="80" Text="{Binding MinSalary, UpdateSourceTrigger=PropertyChanged}"/>
                <TextBlock Text="đến:" VerticalAlignment="Center" Margin="5,0,5,0"/>
                <TextBox Width="80" Text="{Binding MaxSalary, UpdateSourceTrigger=PropertyChanged}"/>

                <TextBlock Text="Ngày bắt đầu từ:" VerticalAlignment="Center" Margin="10,0,5,0"/>
                <DatePicker Width="130" SelectedDate="{Binding StartDateFrom, Mode=TwoWay}"/>
                <TextBlock Text="đến:" VerticalAlignment="Center" Margin="5,0,5,0"/>
                <DatePicker Width="130" SelectedDate="{Binding StartDateTo, Mode=TwoWay}"/>

                <Button Content="Clear Filter" Width="100" Height="30" Background="#FFC107" Foreground="Black" FontWeight="Bold" Click="ClearFilter_Click"/>
            </StackPanel>

            <!-- DataGrid -->
            <DataGrid x:Name="EmployeeDataGrid" AutoGenerateColumns="False" 
                      IsReadOnly="True" Height="350" Margin="0,5"
                      ItemsSource="{Binding Employees}"
                      SelectedItem="{Binding SelectedEmployee, Mode=TwoWay}"
                      CanUserResizeColumns="True"
                      CanUserSortColumns="True"
                      GridLinesVisibility="Horizontal"
                      RowBackground="White"
                      AlternatingRowBackground="#F7F7F7">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" Binding="{Binding EmployeeId}" Width="20"/>
                    <DataGridTextColumn Header="Họ tên" Binding="{Binding FullName}" Width="*"/>
                    <DataGridTextColumn Header="Ngày sinh" Binding="{Binding DateOfBirth, StringFormat=d}" Width="70"/>
                    <DataGridTextColumn Header="Giới tính" Binding="{Binding Gender}" Width="56"/>
                    <DataGridTextColumn Header="Phòng ban" Binding="{Binding Department.DepartmentName}" Width="100"/>
                    <DataGridTextColumn Header="Chức vụ" Binding="{Binding Position}" Width="100"/>
                    <DataGridTextColumn Header="Mức lương" Binding="{Binding BaseSalary, StringFormat=N0}" Width="100"/>
                    <DataGridTextColumn Header="Số điện thoại" Binding="{Binding Phone}" Width="120"/>
                    <DataGridTextColumn Header="Địa chỉ" Binding="{Binding Address}" Width="150"/>
                    <DataGridTextColumn Header="Ngày bắt đầu" Binding="{Binding StartDate, StringFormat=d}" Width="120"/>
                </DataGrid.Columns>
            </DataGrid>
        </StackPanel>
    </DockPanel>
</Window>
